var V=Object.defineProperty,X=Object.defineProperties;var Z=Object.getOwnPropertyDescriptors;var Q=Object.getOwnPropertySymbols;var ee=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable;var _=(t,l,n)=>l in t?V(t,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[l]=n,g=(t,l)=>{for(var n in l||(l={}))ee.call(l,n)&&_(t,n,l[n]);if(Q)for(var n of Q(l))te.call(l,n)&&_(t,n,l[n]);return t},N=(t,l)=>X(t,Z(l));import{j as W,r as i,Q as m,L as v,O as ae,_ as ne,R as z,a as le,b as C,N as F,c as re,B as se}from"./vendor.8c701be2.js";const oe=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}};oe();const e=W.exports.jsx,a=W.exports.jsxs,U=i.exports.createContext(),ce=(t,l)=>{switch(l.type){case"LOGIN":return{user:l.payload};case"LOGOUT":return{user:null};default:return t}},ie=({children:t})=>{const[l,n]=i.exports.useReducer(ce,{user:null});return i.exports.useEffect(()=>{const r=JSON.parse(localStorage.getItem("user"));r&&n({type:"LOGIN",payload:r})},[]),console.log("AuthContext state: ",l),e(U.Provider,{value:N(g({},l),{dispatch:n}),children:t})},O=()=>{const t=i.exports.useContext(U);if(!t)throw Error("useAuthContext must be used inside an AuthContextProvider");return t},w=window.location.origin==="http://localhost:4000"||window.location.origin==="http://localhost:3000"?"http://localhost:4000":"https://happy-sales-production.up.railway.app";function de(){return a("footer",{className:"footer p-10 bg-neutral text-neutral-content",children:[a("div",{children:[e("svg",{width:"50",height:"50",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",className:"fill-current",children:e("path",{d:"M22.672 15.226l-2.432.811.841 2.515c.33 1.019-.209 2.127-1.23 2.456-1.15.325-2.148-.321-2.463-1.226l-.84-2.518-5.013 1.677.84 2.517c.391 1.203-.434 2.542-1.831 2.542-.88 0-1.601-.564-1.86-1.314l-.842-2.516-2.431.809c-1.135.328-2.145-.317-2.463-1.229-.329-1.018.211-2.127 1.231-2.456l2.432-.809-1.621-4.823-2.432.808c-1.355.384-2.558-.59-2.558-1.839 0-.817.509-1.582 1.327-1.846l2.433-.809-.842-2.515c-.33-1.02.211-2.129 1.232-2.458 1.02-.329 2.13.209 2.461 1.229l.842 2.515 5.011-1.677-.839-2.517c-.403-1.238.484-2.553 1.843-2.553.819 0 1.585.509 1.85 1.326l.841 2.517 2.431-.81c1.02-.33 2.131.211 2.461 1.229.332 1.018-.21 2.126-1.23 2.456l-2.433.809 1.622 4.823 2.433-.809c1.242-.401 2.557.484 2.557 1.838 0 .819-.51 1.583-1.328 1.847m-8.992-6.428l-5.01 1.675 1.619 4.828 5.011-1.674-1.62-4.829z"})}),a("p",{children:["ACME Industd.",e("br",{}),"Providing reliable tech since 1992"]})]}),a("div",{children:[e("span",{className:"footer-title",children:"Social"}),a("div",{className:"grid grid-flow-col gap-4",children:[e("a",{children:e("i",{className:"fa-brands fa-square-twitter text-5xl"})}),e("a",{children:e("i",{className:"fa-brands fa-linkedin text-5xl"})}),e("a",{})]})]})]})}function me(t){i.exports.useEffect(()=>{m.init({inputStream:{type:"LiveStream",constraints:{width:800,height:300,facingMode:"environment",aspectRatio:{min:1,max:2}}},locator:{patchSize:"medium",halfSample:!0},numOfWorkers:4,frequency:20,decoder:{readers:["i2of5_reader"]},locate:!0},function(n){return n&&console.log(n,"error msg"),m.start(),()=>{m.stop()}}),m.onProcessed(n=>{var r=m.canvas.ctx.overlay,s=m.canvas.dom.overlay;n&&(n.boxes&&(r.clearRect(0,0,Number(s.getAttribute("width")),Number(s.getAttribute("height"))),n.boxes.filter(function(o){return o!==n.box}).forEach(function(o){m.ImageDebug.drawPath(o,{x:0,y:1},r,{color:"green",lineWidth:2})})),n.box&&m.ImageDebug.drawPath(n.box,{x:0,y:1},r,{color:"#00F",lineWidth:2}),n.codeResult&&n.codeResult.code&&m.ImageDebug.drawPath(n.line,{x:"x",y:"y"},r,{color:"red",lineWidth:3}))}),m.onDetected(l)},[]);function l(n){t.onDetected(n.codeResult.code)}return e("div",{id:"interactive",className:"viewport"})}function ue(t){const{user:l}=O(),[n,r]=i.exports.useState(!1),[s,o]=i.exports.useState(null),[d,u]=i.exports.useState({product:"",cost:0,id:"",qty:0});async function c(y){if(y.preventDefault(),!l)return;const S=g({},d);console.log("what is this: ",S);const D=await fetch(`${w}/api/inventory`,{method:"POST",body:JSON.stringify(S),headers:{"Content-Type":"application/json",Authorization:`Bearer ${l.token}`}}),k=await D.json();D.ok||(u(j=>N(g({},j),{error:k.error})),console.log(d.error)),D.ok&&(u(j=>N(g({},j),{product:"",cost:0,id:"",qty:0,error:null})),t.addProduct(k),console.log("New product added: ",k))}function p(y){const{product:S,cost:D,id:k,qty:j,value:b,name:A}=y.target;u(E=>N(g({},E),{[A]:b}))}function P(y){o(y),u(S=>N(g({},S),{id:y})),r(!1),m.stop()}return a("div",{className:"",children:[e("input",{type:"checkbox",id:"my-modal-4",className:"modal-toggle"}),e("label",{htmlFor:"my-modal-4",className:"modal cursor-pointer items-center",children:a("label",{className:"modal-box rounded-2xl flex flex-col gap-y-2",htmlFor:"",children:[a("form",{onSubmit:c,children:[a("div",{className:"flex gap-x-2",children:[a("div",{className:"flex flex-col grow",children:[e("span",{children:"Product Name"}),e("input",{type:"text",placeholder:"Type here",className:"input input-bordered w-full max-w-xs",name:"product",value:d.product,onChange:p})]}),a("div",{className:"flex flex-col grow",children:[e("span",{children:"Cost"}),e("input",{type:"text",placeholder:"Type here",className:"input input-bordered w-full max-w-xs",name:"cost",value:d.cost,onChange:p})]})]}),e("div",{children:a("div",{className:"flex gap-x-2 items-center",children:[a("div",{className:"flex flex-col grow",children:[a("div",{className:"tooltip tooltip-right pb-2 text-lg self-start","data-tip":"Scan product for ID",children:[e("span",{children:"ID: "}),e("i",{className:"fa-solid fa-circle-info ml-2"})]}),e("input",{value:d.id,onChange:p,name:"id",type:"text",readOnly:!0,placeholder:"Scan for ID...",className:"input input-bordered w-full max-w-xs",required:!0})]}),a("div",{className:"flex flex-col grow",children:[e("span",{className:"pb-2",children:"Qty"}),e("input",{type:"number",placeholder:"Type here",className:"input input-bordered w-full max-w-xs",value:d.qty,onChange:p,name:"qty"})]})]})}),a("div",{className:"flex justify-between py-3",children:[e("button",{type:"button",className:"btn btn-secondary",onClick:()=>r(y=>!y),children:n?a("span",{children:[e("i",{className:"fa-solid fa-stop"})," Stop"]}):a("span",{children:[e("i",{className:"fa-solid fa-camera"})," Scan"]})}),a("button",{type:"submit",className:"btn btn-primary",children:["Add ",e("i",{className:"fa-solid fa-plus ml-2 text-lg"})]})]})]}),e("div",{className:"container",children:n&&e(me,{onDetected:P})})]})})]})}function he(t){function l(){t.deleteProduct(t.product._id)}return a("div",{children:[e("input",{type:"checkbox",id:"delete-item",className:"modal-toggle"}),e("div",{className:"modal",children:a("div",{className:"modal-box relative",children:[e("label",{htmlFor:"delete-item",className:"absolute right-4 top-2 text-neutral hover:text-neutral-focus hover:cursor-pointer",children:e("i",{className:"fa-solid fa-xmark fa-lg"})}),e("div",{className:"flex justify-center",children:e("div",{className:"border-4 border-error p-4 px-8 rounded-full",children:e("i",{className:"fa-solid fa-exclamation text-4xl text-error"})})}),e("p",{className:"py-6 text-center text-xl font-medium",children:"Delete?"}),a("div",{className:"flex justify-evenly",children:[e("label",{htmlFor:"delete-item",className:"btn btn-outline btn-error",onClick:l,children:"Yes, delete"}),e("label",{htmlFor:"delete-item",className:"btn btn-outline",children:"No, cancel"})]})]})})]})}function fe(t){const[l,n]=i.exports.useState({product:"",cost:0,id:"",qty:0}),{user:r}=O();i.exports.useEffect(()=>{Object.keys(t.product).length>0&&n(t.product)},[t.product]);function s(d){n(u=>N(g({},u),{[d.target.name]:d.target.value}))}async function o(){const d=g({},l);await fetch(`${w}/api/inventory/${t.product._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.token}`},body:JSON.stringify(d)}),t.fetchInventory()}return a("div",{children:[e("input",{type:"checkbox",id:"edit-item",className:"modal-toggle"}),e("div",{className:"modal",children:a("div",{className:"modal-box rounded-2xl flex flex-col gap-y-2",children:[e("div",{className:"modal-action m-0",children:e("label",{htmlFor:"edit-item",className:"text-neutral hover:text-neutral-focus hover:cursor-pointer",children:e("i",{className:"fa-solid fa-xmark fa-lg"})})}),a("form",{children:[a("div",{className:"flex gap-x-2",children:[a("div",{className:"flex flex-col grow",children:[e("span",{children:"Product Name"}),e("input",{type:"text",placeholder:"Type here",className:"input input-bordered w-full max-w-xs",name:"product",onChange:s,value:l.product})]}),a("div",{className:"flex flex-col grow",children:[e("span",{children:"Cost"}),e("input",{type:"text",placeholder:"Type here",className:"input input-bordered w-full max-w-xs",name:"cost",onChange:s,value:l.cost})]})]}),e("div",{children:a("div",{className:"flex gap-x-2 items-center",children:[a("div",{className:"flex flex-col grow",children:[a("div",{className:"tooltip tooltip-right pb-2 text-lg self-start","data-tip":"Scan product for ID",children:[e("span",{children:"ID: "}),e("i",{className:"fa-solid fa-circle-info ml-2"})]}),e("input",{name:"id",type:"text",readOnly:!0,placeholder:"Scan for ID...",className:"input input-bordered w-full max-w-xs",onChange:s,value:l.id,required:!0})]}),a("div",{className:"flex flex-col grow",children:[e("span",{className:"pb-2",children:"Qty"}),e("input",{type:"number",placeholder:"Type here",className:"input input-bordered w-full max-w-xs",name:"qty",onChange:s,value:l.qty})]})]})})]}),e("div",{className:"modal-action",children:e("label",{htmlFor:"edit-item",className:"btn",onClick:o,children:"Save All"})})]})})]})}function pe(t){i.exports.useEffect(()=>{m.init({inputStream:{type:"LiveStream",target:document.querySelector("#ScanSoldItems"),constraints:{height:"100%",facingMode:"environment",aspectRatio:{min:1,max:2}}},locator:{patchSize:"medium",halfSample:!0},numOfWorkers:4,frequency:20,decoder:{readers:["i2of5_reader"]},locate:!0},function(n){return n&&console.log(n,"error msg"),m.start(),()=>{m.stop()}}),m.onProcessed(n=>{var r=m.canvas.ctx.overlay,s=m.canvas.dom.overlay;n&&(n.boxes&&(r.clearRect(0,0,Number(s.getAttribute("width")),Number(s.getAttribute("height"))),n.boxes.filter(function(o){return o!==n.box}).forEach(function(o){m.ImageDebug.drawPath(o,{x:0,y:1},r,{color:"green",lineWidth:2})})),n.box&&m.ImageDebug.drawPath(n.box,{x:0,y:1},r,{color:"#00F",lineWidth:2}),n.codeResult&&n.codeResult.code&&m.ImageDebug.drawPath(n.line,{x:"x",y:"y"},r,{color:"red",lineWidth:3}))}),m.onDetected(l)},[]);function l(n){t.onDetected(n.codeResult.code)}return e("div",{id:"ScanSoldItems",className:"viewport"})}function xe(t){function l(r){t.onDetected(r)}function n(){m.offDetected(),m.stop(),t.toggleCamera()}return a("div",{children:[e("input",{type:"checkbox",id:"scan-sold-items",className:"modal-toggle"}),e("div",{className:"modal",children:a("div",{className:"modal-box relative pb-10",children:[a("h3",{className:"text-lg font-bold",children:["Items Scanned: ",t.soldItems.length]}),t.camera&&e(pe,{onDetected:l}),!t.camera&&a("span",{className:"block text-primary text-center text-4xl py-6",children:["Item Scanned! ",e("i",{className:"fa-solid fa-square-check"})]}),e("label",{onClick:n,htmlFor:"scan-sold-items",className:"btn btn-md btn-primary absolute right-2 bottom-2",children:"Done"})]})})]})}function ge(){return a("div",{className:"drawer-side border-r-2 border-base-300 h-[100vh]",children:[e("label",{htmlFor:"my-drawer-2",className:"drawer-overlay"}),a("ul",{className:"menu p-4 w-80 bg-base-100 text-neutral text-xl font-semibold",children:[e("li",{className:"py-2",children:a(v,{to:"home",children:[e("i",{className:"fa-solid fa-house-chimney"}),"Home"]})}),e("li",{className:"py-2",children:a(v,{to:"inventory",children:[e("i",{className:"fa-solid fa-boxes-stacked"}),"Inventory"]})}),e("li",{className:"py-2",children:a(v,{to:"sales",children:[e("i",{className:"fa-solid fa-tags"}),"Sales"]})}),e("li",{className:"py-2",children:a(v,{to:"generate-barcode",children:[e("i",{className:"fa-solid fa-barcode"}),"Barcode Maker"]})})]})]})}const be=()=>{const{dispatch:t}=O();return{logout:()=>{localStorage.removeItem("user"),t({type:"LOGOUT"})}}};var ye="/assets/logo.c1ad7554.svg";function R(){return e("img",{className:"btn btn-ghost w-full",src:ye,alt:""})}function Ne(){const{logout:t}=be(),{user:l}=O();function n(){t()}return a("div",{className:"navbar bg-primary text-primary-content sticky",children:[e("label",{htmlFor:"my-drawer-2",className:"btn btn-primary drawer-button lg:hidden",children:e("i",{className:"fa-solid fa-bars"})}),a("div",{className:"px-2 flex-1 justify-between",children:[e(v,{to:"/dashboard/home",children:e(R,{})}),a("div",{className:"flex gap-x-2",children:[e("span",{children:l&&l.email}),l&&e("a",{onClick:n,className:"link link-accent",children:"Logout"})]})]})]})}function ve(t){return a("div",{children:[e(Ne,{}),a("div",{id:"drawer",className:"drawer drawer-mobile",children:[e("input",{id:"my-drawer-2",type:"checkbox",className:"drawer-toggle"}),e(ge,{}),e("div",{className:"drawer-content flex flex-col",children:e(ae,{})}),e(ue,{addProduct:t.addProduct}),e(he,{product:t.product,deleteProduct:t.deleteProduct}),e(fe,{product:t.product,inventory:t.inventory,updateInventory:t.updateInventory,fetchInventory:t.fetchInventory}),e(xe,{camera:t.camera,toggleCamera:t.toggleCamera,onDetected:t.onDetected,soldItems:t.soldItems})]})]})}var we="/assets/undrawFinanceGraph.2bca922d.svg",Se="/assets/undrawFollow.3908dc4d.svg",Ie="/assets/barcode-generator.a8ccc0e3.gif",Ce="/assets/add-product.c6e534f1.gif",ke="/assets/sales.f41a4348.gif",Te="/assets/stats-review.fc59395b.gif";function Oe(){return a("main",{className:"bg-base-200",children:[a("div",{className:"px-4 py-6 navbar bg-primary text-primary-content flex justify-between",children:[e(v,{to:"/",children:e(R,{})}),a("ul",{className:"flex gap-x-2",children:[e("li",{children:e("a",{className:"btn btn-ghost normal-case text-lg",href:"#howItWorks",children:"How it works"})}),e("li",{children:e(v,{className:"link hover:primary-focus",to:"login",children:"Login"})})]})]}),e("div",{className:"py-8 hero",children:a("div",{className:"hero-content flex-col lg:flex-row-reverse lg:justify-between lg:w-full",children:[e("img",{src:we,className:"max-w-md rounded-lg shadow-2xl"}),a("div",{children:[a("h1",{className:"text-5xl font-bold",children:[e("span",{className:"block",children:"A Beautiful Modern"}),e("span",{className:"block",children:"Sales Mangement Site"})]}),e("p",{className:"py-6 max-w-lg",children:"Provident cupiditate voluptatem et in. Quaerat fugiat ut assumenda excepturi exercitationem quasi. In deleniti eaque aut repudiandae et a id nisi."}),e(v,{className:"px-6 btn btn-primary",to:"signup",children:"Sign Up"})]})]})}),a("section",{className:"flex flex-col content-between gap-y-16 mt-12",children:[e("div",{id:"howItWorks",className:"hero",children:a("div",{className:"hero-content flex flex-col w-full",children:[e("h2",{className:"py-10 text-4xl font-semibold",children:"How it works:"}),a("div",{className:"flex flex-col gap-y-10 lg:flex-row lg:justify-between lg:w-full",children:[a("div",{className:"max-w-md",children:[e("span",{className:"block text-primary font-bold",children:"GET STARTED"}),e("h1",{className:"text-5xl font-bold",children:"Learn how to get started with these steps."}),e("p",{className:"py-6 text-lg",children:"See how you can get the most out of managing your inventory and the products you sell."})]}),e("div",{children:e("img",{className:"max-w-md rounded-lg shadow-2xl",src:Se,alt:""})})]})]})}),e("div",{className:"hero",children:a("div",{className:"py-20 hero-content flex flex-col lg:flex-row-reverse lg:w-full lg:justify-between",children:[a("div",{className:"max-w-lg",children:[e("span",{className:"block text-primary font-bold",children:"GET STARTED"}),e("h1",{className:"text-5xl font-bold",children:"Generate your barcodes"}),e("p",{className:"py-6",children:"Provident cupiditate voluptatem et in. Quaerat fugiat ut assumenda excepturi exercitationem quasi. In deleniti eaque aut repudiandae et a id nisi."})]}),e("div",{children:e("img",{className:"max-w-md rounded-lg shadow-2xl",src:Ie,alt:""})})]})}),e("div",{className:"hero",children:a("div",{className:"py-20 hero-content flex flex-col lg:flex-row lg:w-full lg:justify-between",children:[a("div",{className:"max-w-lg",children:[e("span",{className:"block text-primary font-bold",children:"GET STARTED"}),e("h1",{className:"text-5xl font-bold",children:"Add your product to the inventory"}),e("p",{className:"py-6",children:"Provident cupiditate voluptatem et in. Quaerat fugiat ut assumenda excepturi exercitationem quasi. In deleniti eaque aut repudiandae et a id nisi."})]}),e("div",{children:e("img",{className:"max-w-md rounded-lg shadow-2xl",src:Ce,alt:""})})]})}),e("div",{className:"py-20 hero",children:a("div",{className:"hero-content flex flex-col lg:flex-row-reverse lg:w-full lg:justify-between",children:[a("div",{className:"max-w-lg",children:[e("span",{className:"block text-primary font-bold",children:"GET STARTED"}),e("h1",{className:"text-5xl font-bold",children:"Scan the items ready to be sold"}),e("p",{className:"py-6",children:"Provident cupiditate voluptatem et in. Quaerat fugiat ut assumenda excepturi exercitationem quasi. In deleniti eaque aut repudiandae et a id nisi."})]}),e("div",{children:e("img",{className:"max-w-md rounded-lg shadow-2xl",src:ke,alt:""})})]})}),e("div",{className:"py-20 hero",children:a("div",{className:"hero-content flex flex-col lg:flex-row lg:w-full lg:justify-between",children:[a("div",{className:"max-w-lg",children:[e("span",{className:"block text-primary font-bold",children:"GET STARTED"}),e("h1",{className:"text-5xl font-bold",children:"Review and manage"}),e("p",{className:"py-6",children:"Provident cupiditate voluptatem et in. Quaerat fugiat ut assumenda excepturi exercitationem quasi. In deleniti eaque aut repudiandae et a id nisi."})]}),e("div",{children:e("img",{className:"max-w-md rounded-lg shadow-2xl",src:Te,alt:""})})]})})]}),e(de,{})]})}function Pe(t){let l=t.soldItems.reduce((n,r)=>n+r.cost,0);return a("div",{className:"flex flex-col grow p-4 bg-neutral-content rounded-md",children:[a("div",{className:"",children:[e("span",{id:"rev",className:"block font-medium text-neutral",children:"Total Revenue"}),a("h1",{className:"text-4xl font-bold py-2",children:["$",l]})]}),e(ne,{options:t.graphOptions,series:t.graphOptions.series,type:"area",width:"100%",height:"600"})]})}function De(t){let l=new Date;const n=["January","February","March","April","May","June","July","August","September","October","November","December"];return console.log(),a("div",{className:"flex flex-col gap-y-4 md:flex-row md:gap-x-4",children:[e("div",{className:"stats shadow md:w-1/3 bg-secondary text-secondary-content",children:a("div",{className:"stat",children:[e("div",{className:"stat-title",children:"Inventory Count"}),e("div",{className:"stat-value",children:t.inventory.reduce((r,s)=>r+s.qty,0)-t.soldItems.length}),e("div",{className:"stat-desc",children:"Amount of inventory on hand"})]})}),e("div",{className:"stats shadow md:w-1/3 bg-secondary text-secondary-content",children:a("div",{className:"stat",children:[e("div",{className:"stat-title",children:"Items Sold"}),e("div",{className:"stat-value",children:t.soldItems.length}),e("div",{className:"stat-desc",children:"Total items sold"})]})}),e("div",{className:"stats shadow md:w-1/3 bg-secondary text-secondary-content",children:a("div",{className:"stat",children:[e("div",{className:"stat-title",children:"This Month"}),e("div",{className:"stat-value tracking-wide",children:`$${t.soldItems.reduce((r,s)=>r+s.cost,0)}`}),a("div",{className:"stat-desc",children:["Total revenue for ",n[l.getMonth()]]})]})})]})}function je(t){let l={};for(let r=0;r<t.latestTransactions.length;r++){let s=t.latestTransactions[r].product;l[s]=l[s]?[l[s][0]+1,t.latestTransactions[r].cost,new Date(t.latestTransactions[r].date)]:l[s]=[1,t.latestTransactions[r].cost,new Date(t.latestTransactions[r].date)]}const n=Object.keys(l).map((r,s)=>e("tbody",{children:a("tr",{children:[e("th",{children:s+1}),e("td",{children:r}),e("td",{children:`${l[r][2].getMonth()+1}/${l[r][2].getDate()}/${l[r][2].getFullYear()-2e3}`}),e("td",{children:`$${l[r][1]}`}),e("td",{children:l[r][0]})]})},s));return a("div",{className:"home-container bg-base-200 p-2",children:[a("section",{className:"flex flex-col xl:flex-row xl:gap-x-4 rounded-md p-2 gap-y-4",children:[e(Pe,{soldItems:t.soldItems,graphOptions:t.graphOptions}),a("section",{className:"overflow-auto bg-neutral-content rounded-md p-5",children:[a("div",{children:[e("span",{className:"block text-xl font-bold py-2",children:"Latest Transactions"}),e("span",{className:"block py-2 text-neutral",children:"This is a list of latest transactions"})]}),e("div",{className:"overflow-x-auto",children:a("table",{className:"table table-compact w-full",children:[e("thead",{children:a("tr",{children:[e("th",{}),e("th",{children:"Transaction"}),e("th",{children:"Date"}),e("th",{children:"Cost"}),e("th",{children:"Qty"})]})}),n]})})]})]}),e("section",{className:"flex flex-col p-2 gap-y-4",children:e(De,{inventory:t.inventory,soldItems:t.soldItems})})]})}const Le=()=>{const[t,l]=i.exports.useState(null),[n,r]=i.exports.useState(null),{dispatch:s}=O();return{login:async(d,u)=>{r(!0),l(null),console.log("login",`${w}/api/user/login`);const c=await fetch(`${w}/api/user/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d,password:u})}),p=await c.json();c.ok||(r(!1),l(p.error)),c.ok&&(localStorage.setItem("user",JSON.stringify(p)),s({type:"LOGIN",payload:p}),r(!1))},isLoading:n,error:t}},Ae=()=>{const[t,l]=i.exports.useState(""),[n,r]=i.exports.useState(""),{login:s,error:o,isLoading:d}=Le();return a("div",{className:"h-full overflow-auto",children:[e("div",{className:"p-4 navbar bg-primary text-primary-content flex justify-between",children:e(v,{to:"/",children:e(R,{})})}),e("div",{className:"flex bg-base-300 h-full",children:a("form",{onSubmit:async c=>{c.preventDefault(),await s(t,n)},className:"px-12 py-6 m-auto border-2 border-primary flex flex-col justify-center gap-y-4 bg-base-200 rounded-lg",children:[e("h3",{className:"text-2xl font-semibold text-base-content",children:"Login"}),e("label",{className:"block text-lg font-medium text-base-content",children:"Email:"}),e("input",{onChange:c=>l(c.target.value),type:"email",value:t,placeholder:"Email",className:"input input-bordered input-primary w-96 max-w-xs"}),e("label",{className:"block text-lg font-medium text-base-content",children:"Password:"}),e("input",{onChange:c=>r(c.target.value),type:"password",value:n,placeholder:"Password",className:"input input-bordered input-primary w-96 max-w-xs"}),e("button",{disabled:d,className:"block self-end btn btn-secondary font-bold",children:"Login"}),o&&e("div",{className:"alert alert-error shadow-lg",children:o})]})})]})},Ee=()=>{const[t,l]=i.exports.useState(null),[n,r]=i.exports.useState(null),{dispatch:s}=O();return{signup:async(d,u)=>{r(!0),l(null),console.log("signup",`${w}/api/user/signup`);const c=await fetch(`${w}/api/user/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d,password:u})}),p=await c.json();c.ok||(r(!1),l(p.error)),c.ok&&(localStorage.setItem("user",JSON.stringify(p)),s({type:"LOGIN",payload:p}),r(!1))},isLoading:n,error:t}},qe=()=>{const[t,l]=i.exports.useState(""),[n,r]=i.exports.useState(""),{signup:s,error:o,isLoading:d}=Ee();return a("div",{className:"h-full overflow-auto",children:[e("div",{className:"p-4 navbar bg-primary text-primary-content flex justify-between",children:e(v,{to:"/",children:e(R,{})})}),e("div",{className:"flex h-full bg-base-300",children:a("form",{onSubmit:async c=>{c.preventDefault(),await s(t.toLocaleLowerCase(),n)},className:"px-12 py-6 m-auto border-2 border-primary flex flex-col justify-center gap-y-4 bg-base-200 rounded-lg",children:[e("h3",{className:"text-2xl font-semibold text-base-content",children:"Signup"}),e("label",{className:"block text-lg font-medium text-base-content",children:"Email:"}),e("input",{onChange:c=>l(c.target.value),type:"email",value:t,placeholder:"Email",className:"input input-bordered input-primary w-96 max-w-xs"}),e("label",{className:"block text-lg font-medium text-base-content",children:"Password:"}),e("input",{onChange:c=>r(c.target.value),type:"password",value:n,placeholder:"Password",className:"input input-bordered input-primary w-96 max-w-xs"}),e("button",{className:"block self-end btn btn-secondary font-bold",disabled:d,children:"Signup"}),o&&e("div",{className:"alert alert-error shadow-lg",children:o})]})})]})};function Re(t){function l(){t.handleId(t.inventory._id)}return e("tbody",{className:"",children:a("tr",{className:"hover border-b-2 border-base-200",children:[e("td",{children:t.numOfItem+1}),e("td",{children:t.inventory.product}),a("td",{children:["#",t.inventory.id.slice(-5)]}),a("td",{children:["$ ",t.inventory.cost]}),e("td",{children:t.inventory.qty}),a("td",{className:"flex gap-x-2",children:[a("label",{htmlFor:"edit-item",className:"btn btn-info btn-sm normal-case",onClick:l,children:[e("i",{className:"fa-solid fa-pen-to-square px-1"}),"Edit Item"]}),a("label",{htmlFor:"delete-item",className:"btn btn-error btn-sm normal-case",onClick:l,children:[e("i",{className:"fa-solid fa-trash-can px-1"}),"Delete Item"]})]})]})})}function $e(t){const l=t.inventory.map((n,r)=>e(Re,{inventory:n,numOfItem:r,deleteProduct:t.deleteProduct,handleId:t.handleId},n._id));return a("div",{className:"",children:[a("header",{children:[e("h2",{className:"py-4 text-center text-xl",children:"Inventory"}),e("section",{className:"flex justify-end p-2",children:e("label",{htmlFor:"my-modal-4",className:"btn btn-primary",children:"Add Item"})})]}),e("div",{className:"overflow-auto",children:a("table",{className:"table table-zebra w-full",children:[e("thead",{children:a("tr",{children:[e("th",{}),e("th",{children:"Name"}),e("th",{children:"ID"}),e("th",{children:"Cost"}),e("th",{children:"Qty"}),e("th",{})]})}),l]})})]})}var Fe="/assets/undrawAddToCart.7baf8961.svg",Ge="/assets/confettiCone.41229e35.gif";function Me(t){let l=t.soldItems.reduce((s,o)=>s+o.cost,0),n={};for(let s=0;s<t.soldItems.length;s++){let o=t.soldItems[s].product;n[o]?n[o]+=1:n[o]=1}const r=Object.keys(n).map((s,o)=>e("tbody",{className:"",children:a("tr",{className:"",children:[e("th",{className:"bg-secondary text-secondary-content",children:o+1}),e("td",{className:"bg-secondary text-secondary-content text-lg font-semibold",children:s}),a("td",{className:"bg-secondary text-secondary-content text-md",children:["x",e("span",{className:"text-lg font-semibold ml-px",children:n[s]})]}),a("td",{className:"bg-secondary text-secondary-content text-lg font-semibold",children:["$",t.soldItems[o].cost]})]})},o));return a("div",{className:"p-4 flex flex-col justify-around h-full ",children:[e("h2",{className:"text-2xl font-semibold text-center",children:"Scan items that are ready to be sold!"}),e("div",{className:"flex justify-center",children:a("label",{onClick:t.toggleCamera,htmlFor:"scan-sold-items",className:"btn btn-primary",children:[e("i",{className:"fa-solid fa-camera mr-1"}),"Scan"]})}),t.soldItems.length===0&&e("img",{className:"border-2 border-secondary bg-secondary self-center",src:Fe,alt:""}),t.soldItems.length>0&&t.showTable?a("div",{className:"flex flex-col gap-y-8",children:[e("div",{className:"overflow-x-auto",children:a("table",{className:"table w-full",children:[e("thead",{className:"",children:a("tr",{children:[e("th",{}),e("th",{children:"Name"}),e("th",{children:"Quantity"}),e("th",{children:"Cost"})]})}),r]})}),a("div",{className:"flex justify-between items-center",children:[a("span",{className:"text-2xl font-medium",children:["Total: $",l]}),e("button",{onClick:t.updateOnCompleteOrder,className:"btn btn-primary",children:"Complete Order"})]})]}):null,t.orderComplete&&a("div",{id:"orderComplete",className:"border-2 border-base-200 h-full",children:[e("img",{className:"m-auto",src:Ge,alt:""}),e("h3",{className:"text-center text-4xl font-bold py-2",children:"Order Complete!"}),e("h4",{className:"text-center text-xl text-neutral",children:"Thank you for your purchase!"})]})]})}function Be(){const[t,l]=i.exports.useState(0),[n,r]=i.exports.useState([]);function s(u){l(u.target.value),r([])}function o(u){u.preventDefault();for(let c=0;c<t;c++){let p=1234567890;p+=c,r(P=>[...P,p.toString()])}}const d=n.map((u,c)=>e("div",{className:"text-center w-max border-4 border-accent",children:e("img",{alt:"Barcode Generator TEC-IT",src:`https://barcode.tec-it.com/barcode.ashx?data=${u}&code=Code25IL`})},c));return a("div",{className:"p-2 h-full",children:[e("h2",{className:"py-4 text-center text-2xl font-semibold",children:"Generate your barcode"}),a("form",{onSubmit:o,className:"flex justify-center gap-x-4 py-12",children:[e("input",{type:"number",className:"input input-bordered input-primary w-1/4 max-w-xs block text-lg",name:"numOfBarcodes",onChange:s,value:t}),e("button",{className:"btn btn-primary",children:"Generate!"})]}),e("div",{className:"flex flex-wrap gap-2 justify-center",children:d})]})}function Je(){const[t,l]=i.exports.useState([]),[n,r]=i.exports.useState([]),[s,o]=i.exports.useState([]),[d,u]=i.exports.useState({}),[c,p]=i.exports.useState(!1),[P,y]=i.exports.useState(!1),[S,D]=i.exports.useState(!0),[k,j]=z.useState({chart:{type:"area",height:350},dataLabels:{enabled:!1},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},series:[{name:"Monthly Sales",data:[0,0,0,0,0,0,0,0,0,0,0,0]}]}),{user:b}=O();async function A(){const h=await fetch(`${w}/api/inventory`,{headers:{Authorization:`Bearer ${b.token}`}}),x=await h.json();h.ok&&r(x)}i.exports.useEffect(()=>{b&&A()},[b]);function E(h){r(x=>[...x,h])}async function G(h){if(!b)return;const L=await(await fetch(`${w}/api/inventory/${h}`,{method:"DELETE",headers:{Authorization:`Bearer ${b.token}`},body:JSON.stringify(n)})).json();r(T=>T.filter(J=>J._id!==L._id))}function H(h){r(h)}function M(h){const x=n.find(L=>L._id===h);u(x)}function q(){p(h=>!h)}function Y(h){const x=n.find(T=>T.id==h),L=new Date;l(T=>[...T,N(g({},x),{date:L})]),m.offDetected(),m.stop(),q(),setTimeout(()=>{q()},1e3)}async function B(){let h=t.reduce((f,I)=>f+I.cost,0);j(f=>{let I=[...f.series[0].data];return I[t[0].date.getMonth()]=h,N(g({},f),{series:[{name:"Monthly Sales",data:I}]})}),$(),D(f=>!f),o(f=>[...f,...t]);let x={};for(let f=0;f<t.length;f++){let I=t[f]._id;x[I]?x[I]+=1:x[I]=1}let T=n.slice().map(f=>N(g({},f),{qty:x[f._id]?f.qty-x[f._id]:f.qty}));const K=await(await fetch(`${w}/api/inventory`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b.token}`},body:JSON.stringify(T)})).json();r(K)}function $(){y(h=>!h)}return e("div",{className:"main-container",children:a(le,{children:[e(C,{path:"/",element:e(Oe,{})}),e(C,{path:"/login",element:b?e(F,{to:"/dashboard/home"}):e(Ae,{})}),e(C,{path:"/signup",element:b?e(F,{to:"/dashboard/home"}):e(qe,{})}),a(C,{path:"/dashboard",element:b?e(ve,{soldItems:t,inventory:n,latestTransactions:s,product:d,camera:c,orderComplete:P,showTable:S,graphOptions:k,fetchInventory:A,addProduct:E,deleteProduct:G,updateInventory:H,handleId:M,toggleCamera:q,onDetected:Y,updateOnCompleteOrder:B,toggleOrderComplete:$}):e(F,{to:"/"}),children:[e(C,{path:"home",element:e(je,{inventory:n,soldItems:t,graphOptions:k,latestTransactions:s})}),e(C,{path:"inventory",element:e($e,{inventory:n,addProduct:E,deleteProduct:G,handleId:M})}),e(C,{path:"sales",element:e(Me,{toggleCamera:q,soldItems:t,updateOnCompleteOrder:B,orderComplete:P,toggleOrderComplete:$,showTable:S})}),e(C,{path:"generate-barcode",element:e(Be,{})})]})]})})}re.render(e(z.StrictMode,{children:e(ie,{children:e(se,{children:e(Je,{})})})}),document.getElementById("root"));
