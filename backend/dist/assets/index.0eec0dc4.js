var K=Object.defineProperty,V=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var J=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var Q=(t,n,l)=>n in t?K(t,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[n]=l,g=(t,n)=>{for(var l in n||(n={}))Z.call(n,l)&&Q(t,l,n[l]);if(J)for(var l of J(n))ee.call(n,l)&&Q(t,l,n[l]);return t},v=(t,n)=>V(t,X(n));import{j as _,r as i,Q as m,L as N,O as te,_ as ae,R as z,a as le,b as I,N as F,c as ne,B as re}from"./vendor.8c701be2.js";const se=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function l(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=l(s);fetch(s.href,o)}};se();const e=_.exports.jsx,a=_.exports.jsxs,W=i.exports.createContext(),oe=(t,n)=>{switch(n.type){case"LOGIN":return{user:n.payload};case"LOGOUT":return{user:null};default:return t}},ce=({children:t})=>{const[n,l]=i.exports.useReducer(oe,{user:null});return i.exports.useEffect(()=>{const r=JSON.parse(localStorage.getItem("user"));r&&l({type:"LOGIN",payload:r})},[]),console.log("AuthContext state: ",n),e(W.Provider,{value:v(g({},n),{dispatch:l}),children:t})},T=()=>{const t=i.exports.useContext(W);if(!t)throw Error("useAuthContext must be used inside an AuthContextProvider");return t};function ie(){return a("footer",{className:"footer p-10 bg-neutral text-neutral-content",children:[a("div",{children:[e("svg",{width:"50",height:"50",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",className:"fill-current",children:e("path",{d:"M22.672 15.226l-2.432.811.841 2.515c.33 1.019-.209 2.127-1.23 2.456-1.15.325-2.148-.321-2.463-1.226l-.84-2.518-5.013 1.677.84 2.517c.391 1.203-.434 2.542-1.831 2.542-.88 0-1.601-.564-1.86-1.314l-.842-2.516-2.431.809c-1.135.328-2.145-.317-2.463-1.229-.329-1.018.211-2.127 1.231-2.456l2.432-.809-1.621-4.823-2.432.808c-1.355.384-2.558-.59-2.558-1.839 0-.817.509-1.582 1.327-1.846l2.433-.809-.842-2.515c-.33-1.02.211-2.129 1.232-2.458 1.02-.329 2.13.209 2.461 1.229l.842 2.515 5.011-1.677-.839-2.517c-.403-1.238.484-2.553 1.843-2.553.819 0 1.585.509 1.85 1.326l.841 2.517 2.431-.81c1.02-.33 2.131.211 2.461 1.229.332 1.018-.21 2.126-1.23 2.456l-2.433.809 1.622 4.823 2.433-.809c1.242-.401 2.557.484 2.557 1.838 0 .819-.51 1.583-1.328 1.847m-8.992-6.428l-5.01 1.675 1.619 4.828 5.011-1.674-1.62-4.829z"})}),a("p",{children:["ACME Industries Ltd.",e("br",{}),"Providing reliable tech since 1992"]})]}),a("div",{children:[e("span",{className:"footer-title",children:"Social"}),a("div",{className:"grid grid-flow-col gap-4",children:[e("a",{children:e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:e("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),e("a",{children:e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:e("path",{d:"M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"})})}),e("a",{children:e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:e("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})})})]})]})]})}function de(t){i.exports.useEffect(()=>{m.init({inputStream:{type:"LiveStream",constraints:{width:800,height:300,facingMode:"environment",aspectRatio:{min:1,max:2}}},locator:{patchSize:"medium",halfSample:!0},numOfWorkers:4,frequency:20,decoder:{readers:["i2of5_reader"]},locate:!0},function(l){return l&&console.log(l,"error msg"),m.start(),()=>{m.stop()}}),m.onProcessed(l=>{var r=m.canvas.ctx.overlay,s=m.canvas.dom.overlay;l&&(l.boxes&&(r.clearRect(0,0,Number(s.getAttribute("width")),Number(s.getAttribute("height"))),l.boxes.filter(function(o){return o!==l.box}).forEach(function(o){m.ImageDebug.drawPath(o,{x:0,y:1},r,{color:"green",lineWidth:2})})),l.box&&m.ImageDebug.drawPath(l.box,{x:0,y:1},r,{color:"#00F",lineWidth:2}),l.codeResult&&l.codeResult.code&&m.ImageDebug.drawPath(l.line,{x:"x",y:"y"},r,{color:"red",lineWidth:3}))}),m.onDetected(n)},[]);function n(l){t.onDetected(l.codeResult.code)}return e("div",{id:"interactive",className:"viewport"})}function me(t){const{user:n}=T(),[l,r]=i.exports.useState(!1),[s,o]=i.exports.useState(null),[d,u]=i.exports.useState({product:"",cost:0,id:"",qty:0});async function c(y){if(y.preventDefault(),!n)return;const w=g({},d);console.log("what is this: ",w);const P=await fetch("http://localhost:4000/api/inventory",{method:"POST",body:JSON.stringify(w),headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.token}`}}),C=await P.json();P.ok||(u(D=>v(g({},D),{error:C.error})),console.log(d.error)),P.ok&&(u(D=>v(g({},D),{product:"",cost:0,id:"",qty:0,error:null})),t.addProduct(C),console.log("New product added: ",C))}function p(y){const{product:w,cost:P,id:C,qty:D,value:b,name:L}=y.target;u(A=>v(g({},A),{[L]:b}))}function O(y){o(y),u(w=>v(g({},w),{id:y})),r(!1),m.stop()}return a("div",{className:"",children:[e("input",{type:"checkbox",id:"my-modal-4",className:"modal-toggle"}),e("label",{htmlFor:"my-modal-4",className:"modal cursor-pointer items-center",children:a("label",{className:"modal-box rounded-2xl flex flex-col gap-y-2",htmlFor:"",children:[a("form",{onSubmit:c,children:[a("div",{className:"flex gap-x-2",children:[a("div",{className:"flex flex-col grow",children:[e("span",{children:"Product Name"}),e("input",{type:"text",placeholder:"Type here",className:"input input-bordered w-full max-w-xs",name:"product",value:d.product,onChange:p})]}),a("div",{className:"flex flex-col grow",children:[e("span",{children:"Cost"}),e("input",{type:"text",placeholder:"Type here",className:"input input-bordered w-full max-w-xs",name:"cost",value:d.cost,onChange:p})]})]}),e("div",{children:a("div",{className:"flex gap-x-2 items-center",children:[a("div",{className:"flex flex-col grow",children:[a("div",{className:"tooltip tooltip-right pb-2 text-lg self-start","data-tip":"Scan product for ID",children:[e("span",{children:"ID: "}),e("i",{className:"fa-solid fa-circle-info ml-2"})]}),e("input",{value:d.id,onChange:p,name:"id",type:"text",readOnly:!0,placeholder:"Scan for ID...",className:"input input-bordered w-full max-w-xs",required:!0})]}),a("div",{className:"flex flex-col grow",children:[e("span",{className:"pb-2",children:"Qty"}),e("input",{type:"number",placeholder:"Type here",className:"input input-bordered w-full max-w-xs",value:d.qty,onChange:p,name:"qty"})]})]})}),a("div",{className:"flex justify-between py-3",children:[e("button",{type:"button",className:"btn btn-secondary",onClick:()=>r(y=>!y),children:l?a("span",{children:[e("i",{className:"fa-solid fa-stop"})," Stop"]}):a("span",{children:[e("i",{className:"fa-solid fa-camera"})," Scan"]})}),a("button",{type:"submit",className:"btn btn-primary",children:["Add ",e("i",{className:"fa-solid fa-plus ml-2 text-lg"})]})]})]}),e("div",{className:"container",children:l&&e(de,{onDetected:O})})]})})]})}function ue(t){function n(){t.deleteProduct(t.product._id)}return a("div",{children:[e("input",{type:"checkbox",id:"delete-item",className:"modal-toggle"}),e("div",{className:"modal",children:a("div",{className:"modal-box relative",children:[e("label",{htmlFor:"delete-item",className:"absolute right-4 top-2 text-neutral hover:text-neutral-focus hover:cursor-pointer",children:e("i",{className:"fa-solid fa-xmark fa-lg"})}),e("div",{className:"flex justify-center",children:e("div",{className:"border-4 border-error p-4 px-8 rounded-full",children:e("i",{className:"fa-solid fa-exclamation text-4xl text-error"})})}),e("p",{className:"py-6 text-center text-xl font-medium",children:"Delete?"}),a("div",{className:"flex justify-evenly",children:[e("label",{htmlFor:"delete-item",className:"btn btn-outline btn-error",onClick:n,children:"Yes, delete"}),e("label",{htmlFor:"delete-item",className:"btn btn-outline",children:"No, cancel"})]})]})})]})}function he(t){const[n,l]=i.exports.useState({product:"",cost:0,id:"",qty:0}),{user:r}=T();i.exports.useEffect(()=>{Object.keys(t.product).length>0&&l(t.product)},[t.product]);function s(d){l(u=>v(g({},u),{[d.target.name]:d.target.value}))}async function o(){const d=g({},n);await fetch("http://localhost:4000/api/inventory/"+t.product._id,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.token}`},body:JSON.stringify(d)}),t.fetchInventory()}return a("div",{children:[e("input",{type:"checkbox",id:"edit-item",className:"modal-toggle"}),e("div",{className:"modal",children:a("div",{className:"modal-box rounded-2xl flex flex-col gap-y-2",children:[e("div",{className:"modal-action m-0",children:e("label",{htmlFor:"edit-item",className:"text-neutral hover:text-neutral-focus hover:cursor-pointer",children:e("i",{className:"fa-solid fa-xmark fa-lg"})})}),a("form",{children:[a("div",{className:"flex gap-x-2",children:[a("div",{className:"flex flex-col grow",children:[e("span",{children:"Product Name"}),e("input",{type:"text",placeholder:"Type here",className:"input input-bordered w-full max-w-xs",name:"product",onChange:s,value:n.product})]}),a("div",{className:"flex flex-col grow",children:[e("span",{children:"Cost"}),e("input",{type:"text",placeholder:"Type here",className:"input input-bordered w-full max-w-xs",name:"cost",onChange:s,value:n.cost})]})]}),e("div",{children:a("div",{className:"flex gap-x-2 items-center",children:[a("div",{className:"flex flex-col grow",children:[a("div",{className:"tooltip tooltip-right pb-2 text-lg self-start","data-tip":"Scan product for ID",children:[e("span",{children:"ID: "}),e("i",{className:"fa-solid fa-circle-info ml-2"})]}),e("input",{name:"id",type:"text",readOnly:!0,placeholder:"Scan for ID...",className:"input input-bordered w-full max-w-xs",onChange:s,value:n.id,required:!0})]}),a("div",{className:"flex flex-col grow",children:[e("span",{className:"pb-2",children:"Qty"}),e("input",{type:"number",placeholder:"Type here",className:"input input-bordered w-full max-w-xs",name:"qty",onChange:s,value:n.qty})]})]})})]}),e("div",{className:"modal-action",children:e("label",{htmlFor:"edit-item",className:"btn",onClick:o,children:"Save All"})})]})})]})}function fe(t){i.exports.useEffect(()=>{m.init({inputStream:{type:"LiveStream",target:document.querySelector("#ScanSoldItems"),constraints:{height:"100%",facingMode:"environment",aspectRatio:{min:1,max:2}}},locator:{patchSize:"medium",halfSample:!0},numOfWorkers:4,frequency:20,decoder:{readers:["i2of5_reader"]},locate:!0},function(l){return l&&console.log(l,"error msg"),m.start(),()=>{m.stop()}}),m.onProcessed(l=>{var r=m.canvas.ctx.overlay,s=m.canvas.dom.overlay;l&&(l.boxes&&(r.clearRect(0,0,Number(s.getAttribute("width")),Number(s.getAttribute("height"))),l.boxes.filter(function(o){return o!==l.box}).forEach(function(o){m.ImageDebug.drawPath(o,{x:0,y:1},r,{color:"green",lineWidth:2})})),l.box&&m.ImageDebug.drawPath(l.box,{x:0,y:1},r,{color:"#00F",lineWidth:2}),l.codeResult&&l.codeResult.code&&m.ImageDebug.drawPath(l.line,{x:"x",y:"y"},r,{color:"red",lineWidth:3}))}),m.onDetected(n)},[]);function n(l){t.onDetected(l.codeResult.code)}return e("div",{id:"ScanSoldItems",className:"viewport"})}function pe(t){function n(r){t.onDetected(r)}function l(){m.offDetected(),m.stop(),t.toggleCamera()}return a("div",{children:[e("input",{type:"checkbox",id:"scan-sold-items",className:"modal-toggle"}),e("div",{className:"modal",children:a("div",{className:"modal-box relative pb-10",children:[a("h3",{className:"text-lg font-bold",children:["Items Scanned: ",t.soldItems.length]}),t.camera&&e(fe,{onDetected:n}),!t.camera&&a("span",{className:"block text-primary text-center text-4xl py-6",children:["Item Scanned! ",e("i",{className:"fa-solid fa-square-check"})]}),e("label",{onClick:l,htmlFor:"scan-sold-items",className:"btn btn-md btn-primary absolute right-2 bottom-2",children:"Done"})]})})]})}function xe(){return a("div",{className:"drawer-side border-r-2 border-base-300 h-[100vh]",children:[e("label",{htmlFor:"my-drawer-2",className:"drawer-overlay"}),a("ul",{className:"menu p-4 w-80 bg-base-100 text-neutral text-xl font-semibold",children:[e("li",{className:"py-2",children:a(N,{to:"home",children:[e("i",{className:"fa-solid fa-house-chimney"}),"Home"]})}),e("li",{className:"py-2",children:a(N,{to:"inventory",children:[e("i",{className:"fa-solid fa-boxes-stacked"}),"Inventory"]})}),e("li",{className:"py-2",children:a(N,{to:"sales",children:[e("i",{className:"fa-solid fa-tags"}),"Sales"]})}),e("li",{className:"py-2",children:a(N,{to:"generate-barcode",children:[e("i",{className:"fa-solid fa-barcode"}),"Barcode Maker"]})})]})]})}const ge=()=>{const{dispatch:t}=T();return{logout:()=>{localStorage.removeItem("user"),t({type:"LOGOUT"})}}};var be="/assets/logo.c1ad7554.svg";function q(){return e("img",{className:"btn btn-ghost w-full",src:be,alt:""})}function ye(){const{logout:t}=ge(),{user:n}=T();function l(){t()}return a("div",{className:"navbar bg-primary text-primary-content sticky",children:[e("label",{htmlFor:"my-drawer-2",className:"btn btn-primary drawer-button lg:hidden",children:e("i",{className:"fa-solid fa-bars"})}),a("div",{className:"px-2 flex-1 justify-between",children:[e(N,{to:"/dashboard/home",children:e(q,{})}),a("div",{className:"flex gap-x-2",children:[e("span",{children:n&&n.email}),n&&e("a",{onClick:l,className:"link link-accent",children:"Logout"})]})]})]})}function ve(t){return a("div",{children:[e(ye,{}),a("div",{id:"drawer",className:"drawer drawer-mobile",children:[e("input",{id:"my-drawer-2",type:"checkbox",className:"drawer-toggle"}),e(xe,{}),e("div",{className:"drawer-content flex flex-col",children:e(te,{})}),e(me,{addProduct:t.addProduct}),e(ue,{product:t.product,deleteProduct:t.deleteProduct}),e(he,{product:t.product,inventory:t.inventory,updateInventory:t.updateInventory,fetchInventory:t.fetchInventory}),e(pe,{camera:t.camera,toggleCamera:t.toggleCamera,onDetected:t.onDetected,soldItems:t.soldItems})]})]})}var Ne="/assets/undrawFinanceGraph.2bca922d.svg",we="/assets/undrawFollow.3908dc4d.svg",Se="/assets/barcode-generator.a8ccc0e3.gif",Ie="/assets/add-product.c6e534f1.gif",Ce="/assets/sales.f41a4348.gif",ke="/assets/stats-review.fc59395b.gif";function Te(){return a("main",{className:"bg-base-200",children:[a("div",{className:"px-4 py-6 navbar bg-primary text-primary-content flex justify-between",children:[e(N,{to:"/",children:e(q,{})}),a("ul",{className:"flex gap-x-2",children:[e("li",{children:e("a",{className:"btn btn-ghost normal-case text-lg",href:"#howItWorks",children:"How it works"})}),e("li",{children:e(N,{className:"link hover:primary-focus",to:"login",children:"Login"})})]})]}),e("div",{className:"py-8 hero",children:a("div",{className:"hero-content flex-col lg:flex-row-reverse lg:justify-between lg:w-full",children:[e("img",{src:Ne,className:"max-w-md rounded-lg shadow-2xl"}),a("div",{children:[a("h1",{className:"text-5xl font-bold",children:[e("span",{className:"block",children:"A Beautiful Modern"}),e("span",{className:"block",children:"Sales Mangement Site"})]}),e("p",{className:"py-6 max-w-lg",children:"Provident cupiditate voluptatem et in. Quaerat fugiat ut assumenda excepturi exercitationem quasi. In deleniti eaque aut repudiandae et a id nisi."}),e(N,{className:"px-6 btn btn-primary",to:"signup",children:"Sign Up"})]})]})}),a("section",{className:"flex flex-col content-between gap-y-16 mt-12",children:[e("div",{id:"howItWorks",className:"hero",children:a("div",{className:"hero-content flex flex-col w-full",children:[e("h2",{className:"py-10 text-4xl font-semibold",children:"How it works:"}),a("div",{className:"flex flex-col gap-y-10 lg:flex-row lg:justify-between lg:w-full",children:[a("div",{className:"max-w-md",children:[e("span",{className:"block text-primary font-bold",children:"GET STARTED"}),e("h1",{className:"text-5xl font-bold",children:"Learn how to get started with these steps."}),e("p",{className:"py-6 text-lg",children:"See how you can get the most out of managing your inventory and the products you sell."})]}),e("div",{children:e("img",{className:"max-w-md rounded-lg shadow-2xl",src:we,alt:""})})]})]})}),e("div",{className:"hero",children:a("div",{className:"py-20 hero-content flex flex-col lg:flex-row-reverse lg:w-full lg:justify-between",children:[a("div",{className:"max-w-lg",children:[e("span",{className:"block text-primary font-bold",children:"GET STARTED"}),e("h1",{className:"text-5xl font-bold",children:"Generate your barcodes"}),e("p",{className:"py-6",children:"Provident cupiditate voluptatem et in. Quaerat fugiat ut assumenda excepturi exercitationem quasi. In deleniti eaque aut repudiandae et a id nisi."})]}),e("div",{children:e("img",{className:"max-w-md rounded-lg shadow-2xl",src:Se,alt:""})})]})}),e("div",{className:"hero",children:a("div",{className:"py-20 hero-content flex flex-col lg:flex-row lg:w-full lg:justify-between",children:[a("div",{className:"max-w-lg",children:[e("span",{className:"block text-primary font-bold",children:"GET STARTED"}),e("h1",{className:"text-5xl font-bold",children:"Add your product to the inventory"}),e("p",{className:"py-6",children:"Provident cupiditate voluptatem et in. Quaerat fugiat ut assumenda excepturi exercitationem quasi. In deleniti eaque aut repudiandae et a id nisi."})]}),e("div",{children:e("img",{className:"max-w-md rounded-lg shadow-2xl",src:Ie,alt:""})})]})}),e("div",{className:"py-20 hero",children:a("div",{className:"hero-content flex flex-col lg:flex-row-reverse lg:w-full lg:justify-between",children:[a("div",{className:"max-w-lg",children:[e("span",{className:"block text-primary font-bold",children:"GET STARTED"}),e("h1",{className:"text-5xl font-bold",children:"Scan the items ready to be sold"}),e("p",{className:"py-6",children:"Provident cupiditate voluptatem et in. Quaerat fugiat ut assumenda excepturi exercitationem quasi. In deleniti eaque aut repudiandae et a id nisi."})]}),e("div",{children:e("img",{className:"max-w-md rounded-lg shadow-2xl",src:Ce,alt:""})})]})}),e("div",{className:"py-20 hero",children:a("div",{className:"hero-content flex flex-col lg:flex-row lg:w-full lg:justify-between",children:[a("div",{className:"max-w-lg",children:[e("span",{className:"block text-primary font-bold",children:"GET STARTED"}),e("h1",{className:"text-5xl font-bold",children:"Review and manage"}),e("p",{className:"py-6",children:"Provident cupiditate voluptatem et in. Quaerat fugiat ut assumenda excepturi exercitationem quasi. In deleniti eaque aut repudiandae et a id nisi."})]}),e("div",{children:e("img",{className:"max-w-md rounded-lg shadow-2xl",src:ke,alt:""})})]})})]}),e(ie,{})]})}function Oe(t){let n=t.soldItems.reduce((l,r)=>l+r.cost,0);return a("div",{className:"flex flex-col grow p-4 bg-neutral-content rounded-md",children:[a("div",{className:"",children:[e("span",{id:"rev",className:"block font-medium text-neutral",children:"Total Revenue"}),a("h1",{className:"text-4xl font-bold py-2",children:["$",n]})]}),e(ae,{options:t.graphOptions,series:t.graphOptions.series,type:"area",width:"100%",height:"600"})]})}function Pe(t){let n=new Date;const l=["January","February","March","April","May","June","July","August","September","October","November","December"];return console.log(),a("div",{className:"flex flex-col gap-y-4 md:flex-row md:gap-x-4",children:[e("div",{className:"stats shadow md:w-1/3 bg-secondary text-secondary-content",children:a("div",{className:"stat",children:[e("div",{className:"stat-title",children:"Inventory Count"}),e("div",{className:"stat-value",children:t.inventory.reduce((r,s)=>r+s.qty,0)-t.soldItems.length}),e("div",{className:"stat-desc",children:"Amount of inventory on hand"})]})}),e("div",{className:"stats shadow md:w-1/3 bg-secondary text-secondary-content",children:a("div",{className:"stat",children:[e("div",{className:"stat-title",children:"Items Sold"}),e("div",{className:"stat-value",children:t.soldItems.length}),e("div",{className:"stat-desc",children:"Total items sold"})]})}),e("div",{className:"stats shadow md:w-1/3 bg-secondary text-secondary-content",children:a("div",{className:"stat",children:[e("div",{className:"stat-title",children:"This Month"}),e("div",{className:"stat-value tracking-wide",children:`$${t.soldItems.reduce((r,s)=>r+s.cost,0)}`}),a("div",{className:"stat-desc",children:["Total revenue for ",l[n.getMonth()]]})]})})]})}function De(t){let n={};for(let r=0;r<t.latestTransactions.length;r++){let s=t.latestTransactions[r].product;n[s]=n[s]?[n[s][0]+1,t.latestTransactions[r].cost,new Date(t.latestTransactions[r].date)]:n[s]=[1,t.latestTransactions[r].cost,new Date(t.latestTransactions[r].date)]}const l=Object.keys(n).map((r,s)=>e("tbody",{children:a("tr",{children:[e("th",{children:s+1}),e("td",{children:r}),e("td",{children:`${n[r][2].getMonth()+1}/${n[r][2].getDate()}/${n[r][2].getFullYear()-2e3}`}),e("td",{children:`$${n[r][1]}`}),e("td",{children:n[r][0]})]})},s));return a("div",{className:"home-container bg-base-200 p-2",children:[a("section",{className:"flex flex-col xl:flex-row xl:gap-x-4 rounded-md p-2 gap-y-4",children:[e(Oe,{soldItems:t.soldItems,graphOptions:t.graphOptions}),a("section",{className:"overflow-auto bg-neutral-content rounded-md p-5",children:[a("div",{children:[e("span",{className:"block text-xl font-bold py-2",children:"Latest Transactions"}),e("span",{className:"block py-2 text-neutral",children:"This is a list of latest transactions"})]}),e("div",{className:"overflow-x-auto",children:a("table",{className:"table table-compact w-full",children:[e("thead",{children:a("tr",{children:[e("th",{}),e("th",{children:"Transaction"}),e("th",{children:"Date"}),e("th",{children:"Cost"}),e("th",{children:"Qty"})]})}),l]})})]})]}),e("section",{className:"flex flex-col p-2 gap-y-4",children:e(Pe,{inventory:t.inventory,soldItems:t.soldItems})})]})}const je=()=>{const[t,n]=i.exports.useState(null),[l,r]=i.exports.useState(null),{dispatch:s}=T();return{login:async(d,u)=>{r(!0),n(null);const c=await fetch("http://localhost:4000/api/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d,password:u})}),p=await c.json();c.ok||(r(!1),n(p.error)),c.ok&&(localStorage.setItem("user",JSON.stringify(p)),s({type:"LOGIN",payload:p}),r(!1))},isLoading:l,error:t}},Le=()=>{const[t,n]=i.exports.useState(""),[l,r]=i.exports.useState(""),{login:s,error:o,isLoading:d}=je();return a("div",{className:"h-full overflow-auto",children:[e("div",{className:"p-4 navbar bg-primary text-primary-content flex justify-between",children:e(N,{to:"/",children:e(q,{})})}),e("div",{className:"flex bg-base-300 h-full",children:a("form",{onSubmit:async c=>{c.preventDefault(),await s(t,l)},className:"px-12 py-6 m-auto border-2 border-primary flex flex-col justify-center gap-y-4 bg-base-200 rounded-lg",children:[e("h3",{className:"text-2xl font-semibold text-base-content",children:"Login"}),e("label",{className:"block text-lg font-medium text-base-content",children:"Email:"}),e("input",{onChange:c=>n(c.target.value),type:"email",value:t,placeholder:"Email",className:"input input-bordered input-primary w-96 max-w-xs"}),e("label",{className:"block text-lg font-medium text-base-content",children:"Password:"}),e("input",{onChange:c=>r(c.target.value),type:"password",value:l,placeholder:"Password",className:"input input-bordered input-primary w-96 max-w-xs"}),e("button",{disabled:d,className:"block self-end btn btn-secondary font-bold",children:"Login"}),o&&e("div",{className:"alert alert-error shadow-lg",children:o})]})})]})},Ae=()=>{const[t,n]=i.exports.useState(null),[l,r]=i.exports.useState(null),{dispatch:s}=T();return{signup:async(d,u)=>{r(!0),n(null);const c=await fetch("http://localhost:4000/api/user/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d,password:u})}),p=await c.json();c.ok||(r(!1),n(p.error)),c.ok&&(localStorage.setItem("user",JSON.stringify(p)),s({type:"LOGIN",payload:p}),r(!1))},isLoading:l,error:t}},Ee=()=>{const[t,n]=i.exports.useState(""),[l,r]=i.exports.useState(""),{signup:s,error:o,isLoading:d}=Ae();return a("div",{className:"h-full overflow-auto",children:[e("div",{className:"p-4 navbar bg-primary text-primary-content flex justify-between",children:e(N,{to:"/",children:e(q,{})})}),e("div",{className:"flex h-full bg-base-300",children:a("form",{onSubmit:async c=>{c.preventDefault(),await s(t.toLocaleLowerCase(),l)},className:"px-12 py-6 m-auto border-2 border-primary flex flex-col justify-center gap-y-4 bg-base-200 rounded-lg",children:[e("h3",{className:"text-2xl font-semibold text-base-content",children:"Signup"}),e("label",{className:"block text-lg font-medium text-base-content",children:"Email:"}),e("input",{onChange:c=>n(c.target.value),type:"email",value:t,placeholder:"Email",className:"input input-bordered input-primary w-96 max-w-xs"}),e("label",{className:"block text-lg font-medium text-base-content",children:"Password:"}),e("input",{onChange:c=>r(c.target.value),type:"password",value:l,placeholder:"Password",className:"input input-bordered input-primary w-96 max-w-xs"}),e("button",{className:"block self-end btn btn-secondary font-bold",disabled:d,children:"Signup"}),o&&e("div",{className:"alert alert-error shadow-lg",children:o})]})})]})};function qe(t){function n(){t.handleId(t.inventory._id)}return e("tbody",{className:"",children:a("tr",{className:"hover border-b-2 border-base-200",children:[e("td",{children:t.numOfItem+1}),e("td",{children:t.inventory.product}),a("td",{children:["#",t.inventory.id.slice(-5)]}),a("td",{children:["$ ",t.inventory.cost]}),e("td",{children:t.inventory.qty}),a("td",{className:"flex gap-x-2",children:[a("label",{htmlFor:"edit-item",className:"btn btn-info btn-sm normal-case",onClick:n,children:[e("i",{className:"fa-solid fa-pen-to-square px-1"}),"Edit Item"]}),a("label",{htmlFor:"delete-item",className:"btn btn-error btn-sm normal-case",onClick:n,children:[e("i",{className:"fa-solid fa-trash-can px-1"}),"Delete Item"]})]})]})})}function Re(t){const n=t.inventory.map((l,r)=>e(qe,{inventory:l,numOfItem:r,deleteProduct:t.deleteProduct,handleId:t.handleId},l._id));return a("div",{className:"",children:[a("header",{children:[e("h2",{className:"py-4 text-center text-xl",children:"Inventory"}),e("section",{className:"flex justify-end p-2",children:e("label",{htmlFor:"my-modal-4",className:"btn btn-primary",children:"Add Item"})})]}),e("div",{className:"overflow-auto",children:a("table",{className:"table table-zebra w-full",children:[e("thead",{children:a("tr",{children:[e("th",{}),e("th",{children:"Name"}),e("th",{children:"ID"}),e("th",{children:"Cost"}),e("th",{children:"Qty"}),e("th",{})]})}),n]})})]})}var Fe="/assets/undrawAddToCart.7baf8961.svg",Me="/assets/confettiCone.41229e35.gif";function Be(t){let n=t.soldItems.reduce((s,o)=>s+o.cost,0),l={};for(let s=0;s<t.soldItems.length;s++){let o=t.soldItems[s].product;l[o]?l[o]+=1:l[o]=1}const r=Object.keys(l).map((s,o)=>e("tbody",{className:"",children:a("tr",{className:"",children:[e("th",{className:"bg-secondary text-secondary-content",children:o+1}),e("td",{className:"bg-secondary text-secondary-content text-lg font-semibold",children:s}),a("td",{className:"bg-secondary text-secondary-content text-md",children:["x",e("span",{className:"text-lg font-semibold ml-px",children:l[s]})]}),a("td",{className:"bg-secondary text-secondary-content text-lg font-semibold",children:["$",t.soldItems[o].cost]})]})},o));return a("div",{className:"p-4 flex flex-col justify-around h-full ",children:[e("h2",{className:"text-2xl font-semibold text-center",children:"Scan items that are ready to be sold!"}),e("div",{className:"flex justify-center",children:a("label",{onClick:t.toggleCamera,htmlFor:"scan-sold-items",className:"btn btn-primary",children:[e("i",{className:"fa-solid fa-camera mr-1"}),"Scan"]})}),t.soldItems.length===0&&e("img",{className:"border-2 border-secondary bg-secondary self-center",src:Fe,alt:""}),t.soldItems.length>0&&t.showTable?a("div",{className:"flex flex-col gap-y-8",children:[e("div",{className:"overflow-x-auto",children:a("table",{className:"table w-full",children:[e("thead",{className:"",children:a("tr",{children:[e("th",{}),e("th",{children:"Name"}),e("th",{children:"Quantity"}),e("th",{children:"Cost"})]})}),r]})}),a("div",{className:"flex justify-between items-center",children:[a("span",{className:"text-2xl font-medium",children:["Total: $",n]}),e("button",{onClick:t.updateOnCompleteOrder,className:"btn btn-primary",children:"Complete Order"})]})]}):null,t.orderComplete&&a("div",{id:"orderComplete",className:"border-2 border-base-200 h-full",children:[e("img",{className:"m-auto",src:Me,alt:""}),e("h3",{className:"text-center text-4xl font-bold py-2",children:"Order Complete!"}),e("h4",{className:"text-center text-xl text-neutral",children:"Thank you for your purchase!"})]})]})}function Ge(){const[t,n]=i.exports.useState(0),[l,r]=i.exports.useState([]);function s(u){n(u.target.value),r([])}function o(u){u.preventDefault();for(let c=0;c<t;c++){let p=1234567890;p+=c,r(O=>[...O,p.toString()])}}const d=l.map((u,c)=>e("div",{className:"text-center w-max border-4 border-accent",children:e("img",{alt:"Barcode Generator TEC-IT",src:`https://barcode.tec-it.com/barcode.ashx?data=${u}&code=Code25IL`})},c));return a("div",{className:"p-2 h-full",children:[e("h2",{className:"py-4 text-center text-2xl font-semibold",children:"Generate your barcode"}),a("form",{onSubmit:o,className:"flex justify-center gap-x-4 py-12",children:[e("input",{type:"number",className:"input input-bordered input-primary w-1/4 max-w-xs block text-lg",name:"numOfBarcodes",onChange:s,value:t}),e("button",{className:"btn btn-primary",children:"Generate!"})]}),e("div",{className:"flex flex-wrap gap-2 justify-center",children:d})]})}function $e(){const[t,n]=i.exports.useState([]),[l,r]=i.exports.useState([]),[s,o]=i.exports.useState([]),[d,u]=i.exports.useState({}),[c,p]=i.exports.useState(!1),[O,y]=i.exports.useState(!1),[w,P]=i.exports.useState(!0),[C,D]=z.useState({chart:{type:"area",height:350},dataLabels:{enabled:!1},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},series:[{name:"Monthly Sales",data:[0,0,0,0,0,0,0,0,0,0,0,0]}]}),{user:b}=T();async function L(){const h=await fetch("http://localhost:4000/api/inventory",{headers:{Authorization:`Bearer ${b.token}`}}),x=await h.json();h.ok&&r(x)}i.exports.useEffect(()=>{b&&L()},[b]);function A(h){r(x=>[...x,h])}async function M(h){if(!b)return;const j=await(await fetch("http://localhost:4000/api/inventory/"+h,{method:"DELETE",headers:{Authorization:`Bearer ${b.token}`},body:JSON.stringify(l)})).json();r(k=>k.filter($=>$._id!==j._id))}function U(h){r(h)}function B(h){const x=l.find(j=>j._id===h);u(x)}function E(){p(h=>!h)}function H(h){const x=l.find(k=>k.id==h),j=new Date;n(k=>[...k,v(g({},x),{date:j})]),m.offDetected(),m.stop(),E(),setTimeout(()=>{E()},1e3)}async function G(){let h=t.reduce((f,S)=>f+S.cost,0);D(f=>{let S=[...f.series[0].data];return S[t[0].date.getMonth()]=h,v(g({},f),{series:[{name:"Monthly Sales",data:S}]})}),R(),P(f=>!f),o(f=>[...f,...t]);let x={};for(let f=0;f<t.length;f++){let S=t[f]._id;x[S]?x[S]+=1:x[S]=1}let k=l.slice().map(f=>v(g({},f),{qty:x[f._id]?f.qty-x[f._id]:f.qty}));const Y=await(await fetch("http://localhost:4000/api/inventory/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b.token}`},body:JSON.stringify(k)})).json();r(Y)}function R(){y(h=>!h)}return e("div",{className:"main-container",children:a(le,{children:[e(I,{path:"/",element:e(Te,{})}),e(I,{path:"/login",element:b?e(F,{to:"/dashboard/home"}):e(Le,{})}),e(I,{path:"/signup",element:b?e(F,{to:"/dashboard/home"}):e(Ee,{})}),a(I,{path:"/dashboard",element:b?e(ve,{soldItems:t,inventory:l,latestTransactions:s,product:d,camera:c,orderComplete:O,showTable:w,graphOptions:C,fetchInventory:L,addProduct:A,deleteProduct:M,updateInventory:U,handleId:B,toggleCamera:E,onDetected:H,updateOnCompleteOrder:G,toggleOrderComplete:R}):e(F,{to:"/"}),children:[e(I,{path:"home",element:e(De,{inventory:l,soldItems:t,graphOptions:C,latestTransactions:s})}),e(I,{path:"inventory",element:e(Re,{inventory:l,addProduct:A,deleteProduct:M,handleId:B})}),e(I,{path:"sales",element:e(Be,{toggleCamera:E,soldItems:t,updateOnCompleteOrder:G,orderComplete:O,toggleOrderComplete:R,showTable:w})}),e(I,{path:"generate-barcode",element:e(Ge,{})})]})]})})}ne.render(e(z.StrictMode,{children:e(ce,{children:e(re,{children:e($e,{})})})}),document.getElementById("root"));
